dr_razgriz = '.pixelidx = 0; .pixeldat = $imtoc_colordata; .img_w = $imtoc_imagew; .img_h = $imtoc_imageh; .allowalpha = 0; drawloadimg = [ exec (concatword $arg1 ".cfg"); .pixelidx = 0; .totalpxl = (* $.img_w $.img_h); echo (concatword "^f7Loaded <^f3" $arg1 "^f7>"); ]; drawundo = [ if $arg1 [ arg1 = (* $.img_w $arg1) ] [ arg1 = $.img_w ]; .pixelidx = (max 0 (- $.pixelidx $arg1)); echo (concat "^f7Returning to row^f4#" (div $.pixelidx $.img_w)); ]; drawreset = [ .pixelidx = 0; echo "^f7Resetting to first row."; ]; drawrow = [ if (!=s (getalias arg1) "")[.allowalpha = $arg1]; echo (format "^f7Drawing row ^f4#%1 ^f7out of ^f4%2^f7." (div $.pixelidx $.img_w) $.img_h); loop n $.img_w [ sleep (* $n 10) [ if (= @n (- $.img_w 1))[ echo (format "^f7Row ^f4#%1 ^f7done" (div $.pixelidx $.img_w)) ]; .pixelcol = (at $.pixeldat $.pixelidx); .pixelidx = (+ $.pixelidx 1); if (= $.pixelcol "0x000000") [ if (= $.allowalpha 1) [delcube] [vcolor 0] ][ vcolor (divf (& (>> $.pixelcol 0x10) 0xFF) 0xFF) (divf (& (>> $.pixelcol 0x8) 0xFF) 0xFF) (divf (& $.pixelcol 0xFF) 0xFF); ]; if (= $.pixelidx $.totalpxl) [ echo "^f0Image completed successfully."; .pixelidx = 0; ] [ editface -1 1; ] ] ] ]';